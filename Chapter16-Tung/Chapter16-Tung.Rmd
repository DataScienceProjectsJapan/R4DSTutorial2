---
title: "Tidyverse Tutorial: R4DS Ch 16"
output: 
  learnr::tutorial:
    css: css/style.css
    theme: cerulean
runtime: shiny_prerendered
---

```{r setup, include=FALSE}
library(learnr)

library(gradethis)

tutorial_options(exercise.checker = gradethis::grade_learnr)

knitr::opts_chunk$set(echo = FALSE)

library(tidyverse)

library(nycflights13)

library(lubridate)
```

###### DAM Le Thanh Tung 12418143 (TD)

## Section 16.1

### 16.1 Easy TD

1. Which package should be used to simplify datetime conversion in R?

```{r 16-1EasyTD}
quiz(
  question("Which package should be used to simplify datetime conversion in R?",
    answer("lubricate"),
    answer("lubridate",  correct = TRUE),
    answer("POSIX"),
    answer("tidyverse")
  )
)
```

## Section 16.2.1

### 16.2.1 Easy TD

Answer the following short quiz

```{r 16-2-1EasyTD}
quiz(
  question("Which is a valid funciton to convert datetime from a string?",
    answer("ymd"),
    answer("hms"),
    answer("ydm_hms"),
    answer("All of the above", correct = TRUE)
  )
)
```

## Section 16.2.2

### 16.2.2 Intermediate TD

From the `flights` dataset, Create a column named "depart_date" containing the date of departure, use the pipe `%>%` operator. Save the result in a variable called `flightsDateTime`.

```{r 16-2-2IntermediateTD1, exercise=TRUE, exercise.eval=FALSE}
flightsDateTime <- 
```

```{r 116-2-2IntermediateTD1-hint}
"make_date(year, month, day)"
```

```{r 16-2-2IntermediateTD1-solution}
flightsDateTime <- mutate(flights, depart_date = make_date(year, month, day))
```

```{r 16-2-2IntermediateTD1-check}
gradethis::grade_this_code()
```

### 16.2.2 Challenging TD

From the `flightsDateTime` dataset created above, plot a graph to find out which timeframe has the largest number of departure flight on January 3rd, 2013. Use `geom_freqpoly` with `binwith` of 900 (15 minutes). (you can use `?geom_freqpoly` to find out how to use the function)

```{r 16-2-2IntermediateTD2, exercise=TRUE, exercise.eval=FALSE}

```

```{r 16-2-2IntermediateTD2-hint}
"geom_freqpoly(binwidth = 900)"
```

```{r 16-2-2IntermediateTD2-solution}

flightsDateTime %>% 
  filter(depart_date < ymd(2013-01-03)) %>% 
  ggplot(aes(dep_time)) + 
  geom_freqpoly(binwidth = 900)
```

```{r 16-2-2IntermediateTD2-check}
gradethis::grade_this_code()
```

## Section 16.2.3

### 16.2.3 Intermediate TD

Write a function named numToDate that takes an integer representing the number of days from the Unix Epoch Time, and return the date represented by that number.

```{r 16-2-3IntermedateTD, exercise=TRUE, exercise.eval=FALSE}
numToDate <- function() {
  
}
numToDate(23456)
```

```{r 16-2-3IntermedateTD-hint}
"use as_date"
```

```{r 16-2-3IntermedateTD-solution}
numToDate <- function(num) {
  date <- as_date(num)
  return(date)
}
```

```{r 16-2-3IntermedateTD-check}
gradethis::grade_this_code()
```

