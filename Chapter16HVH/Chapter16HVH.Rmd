---
title: "Tidyverse Tutorial: R4DS Ch 16"



output: 

  learnr::tutorial:

    css: css/style.css

    theme: cerulean

runtime: shiny_prerendered
---

```{r setup, include=FALSE}

library(learnr)

library(gradethis)

tutorial_options(exercise.checker = gradethis::grade_learnr)

knitr::opts_chunk$set(echo = FALSE)

library(tidyverse)
library(lubridate)
library(nycflights13)

```
## Section 16.2
### 16.2 Challenging HVH
Write the R code that recognizes 2000:08:31 as a date using the as.POSIXct.
Note: as.POSIXct allows you to customize a format for your date by setting the argument format =
```{r 16-2ChallengingHVH, exercise=TRUE}
as.POSIXct()
```
```{r 16-2ChallengingHVH-hint}
as.POSIXct(strptime())
```

```{r 16-2ChallengingHVH-solution}
as.POSIXct(strptime("2000:08:31", format = "%Y:%m:%d"))
```

```{r 16-2ChallengingHVH-check}
gradethis::grade_this_code()
```
## Section 16.2.1
### 16.2.1 Easy HVH
```{r 16-2-1Easy1HVH}
quiz(
  question("Which strings can be transformed to date using ymd()?",
    answer("August 31st, 2000"),
    answer("2000/08/31", correct = TRUE),
    answer("2000:08:31"),
    answer("20000831", correct= TRUE)
  )
)
```
Write the R code to get the current date time.
```{r 16-2-1Easy2HVH, exercise=TRUE}

```

```{r Easy2HVH-hint}
"use the now() function"
```

```{r 16-2-1Easy2HVH-solution}
now()
```

```{r 16-2-1Easy2HVH-check}
gradethis::grade_this_code()
```
## Section 16.2.2
### 16.2.2 Intermediate HVH
Add a column to the flights data set, named departure_time, which contains the information in the year, month, day, dep_time columns.
```{r 16-2-2Intermediate1HVH, exercise=TRUE, exercise.eval=TRUE}

```

```{r 16-2-2Intermediate1HVH-hint}
"use the mutate() and make_datetime() functions"
```

```{r 16-2-2Intermediate1HVH-solution}
flights %>% 
  mutate(departure_time = make_datetime(year, month, day, dep_time %/% 100, dep_time %% 100))
```

```{r 16-2-2Intermediate1HVH-check}
gradethis::grade_this_code()
```
Write the R code that produce the frequency polygons graph for the distribution of departure times in 2013/1/1 every minute.
Step 1: Create date time columns
Step 2: Filter the data limited to the day 2017/1/3
Step 3: Make the frequency polygons graph
```{r 16-2-2Intermediate2HVH, exercise=TRUE, exercise.eval=FALSE}
flights_dt <- flights %>% 
  filter(!is.na(dep_time), !is.na(arr_time)) %>% 
  mutate(
    depart_time = ) 
 flights_dt %>% 
  filter(dep_time) %>% 
  ggplot(aes(dep_time)) + 
  geom_freqpoly( )
```
```{r 16-2-2Intermediate2HVH-hint}
flights_dt <- flights %>% 
  filter(!is.na(dep_time), !is.na(arr_time)) %>% 
  mutate(
    depart_time = make_datetime()) 
 flights_dt %>% 
  filter(dep_time < ymd()) %>% 
  ggplot(aes(dep_time)) + 
  geom_freqpoly(binwidth = )
```

```{r 16-2-2Intermediate2HVH-solution}
flights_dt <- flights %>% 
  filter(!is.na(dep_time), !is.na(arr_time)) %>% 
  mutate(
    depart_time = make_datetime(year, month, day))
 flights_dt %>% 
  filter(dep_time < ymd(20130102)) %>% 
  ggplot(aes(dep_time)) + 
  geom_freqpoly(binwidth = 60)
```

```{r 16-2-2Intermediate2HVH-check}
gradethis::grade_this_code()
```
